---
import Layout from "../layouts/Layout.astro";

const allPosts = await Astro.glob("/src/pages/post/*.md");

const collectionCode = allPosts.filter(
  (post) => post.frontmatter.category === "code"
);

const collectionDesign = allPosts.filter(
  (post) => post.frontmatter.category === "design"
);

/* console.log(collectionCode); */
---

<Layout title="page collections">
  <main
    class="max-w-[1440px] mx-auto flex flex-col gap-y-5 lg:flex-row items-start justify-between py-12 px-3"
  >
    <section class="w-full lg:w-[35%] flex flex-col gap-y-3 border">
      <h1 class="sm:text-6xl text-5xl font-bold">Collection</h1>
      <p class="text-base">
        Lorem, ipsum dolor sit amet consectetur adipisicing elit. Temporibus
        optio, beatae dolor ab aliquam vero debitis consequatur cum.
      </p>
    </section>
    <section class="w-full lg:w-[50%]">
      <article class="w-full flex flex-col gap-y-10 ">
        {
          collectionCode && (
            <div class="w-full">
              <h4 class="text-left font-bold text-4xl pb-2">Code</h4>
              <ul class=" bg-white rounded-lg">
                {collectionCode.map((code) => (
                  <li class="w-full px-2 py-1.5 text-left hover:bg-green-200 transition-all duration-300">
                    <a href={code.frontmatter.slug}>{code.frontmatter.title}</a>
                  </li>
                ))}
              </ul>
            </div>
          )
        }
        {
          collectionDesign && (
            <div class="w-full">
              <h4 class="text-left font-bold text-4xl pb-2">Design</h4>
              <ul class=" bg-white rounded-lg">
                {collectionDesign.map((code) => (
                  <li class="w-full px-2 py-1.5 text-left hover:bg-green-200 transition-all duration-300">
                    <a href={code.frontmatter.slug}>{code.frontmatter.title}</a>
                  </li>
                ))}
              </ul>
            </div>
          )
        }
      </article>
    </section>
  </main>
</Layout>
