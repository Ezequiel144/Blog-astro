---
import Layout from "../layouts/Layout.astro";

const allPosts = await Astro.glob("/src/pages/post/*.md");

const collectionCode = allPosts.filter(
  (post) => post.frontmatter.category === "code"
);

const collectionDesign = allPosts.filter(
  (post) => post.frontmatter.category === "design"
);

/* console.log(collectionCode); */
---

<Layout title="page collections">
  <main class="max-w-[1440px] mx-auto flex items-start justify-between py-12">
    <section class="w-[35%] flex flex-col gap-y-3">
      <h1 class="text-6xl font-bold">Collection</h1>
      <p class="text-base">
        Lorem, ipsum dolor sit amet consectetur adipisicing elit. Temporibus
        optio, beatae dolor ab aliquam vero debitis consequatur cum.
      </p>
    </section>
    <section>
      <article class="w-[600px] flex flex-col gap-y-10">
        <!-- <h4 class="font-bold text-4xl">accessibility</h4> -->
        {
          collectionCode &&
            
              <table class="table-auto bg-white rounded-md w-full">
                <colgroup>
                  <col class="border-blue-400" />
                </colgroup>
                <caption class="text-left font-bold text-4xl pb-2">
                  Code
                </caption>
                <tbody>
                  {collectionCode.map((code) => (
                    <tr class="w-full">
                      <th class="px-2 py-1.5 text-left hover:bg-green-200 transition-all duration-300">
                        <a href={code.frontmatter.slug}>{code.frontmatter.title}</a>
                      </th>
                    </tr>
                  ))}
                </tbody>
              </table>
        }
        {
            collectionDesign &&
              
                <table class="table-auto bg-white rounded-md w-full">
                  <colgroup>
                    <col class="border-blue-400" />
                  </colgroup>
                  <caption class="text-left font-bold text-4xl pb-2">
                    Design
                  </caption>
                  <tbody>
                    {collectionDesign.map((design) => (
                      <tr class="w-full">
                        <th class="px-2 py-1.5 text-left hover:bg-green-200 transition-all duration-300">
                          <a href={design.frontmatter.slug}>{design.frontmatter.title}</a>
                        </th>
                      </tr>
                    ))}
                  </tbody>
                </table>
          }
      </article>
    </section>
  </main>
</Layout>
